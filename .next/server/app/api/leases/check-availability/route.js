"use strict";(()=>{var e={};e.id=9192,e.ids=[9192],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},29355:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>v,patchFetch:()=>m,requestAsyncStorage:()=>p,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d});var r={};a.r(r),a.d(r,{POST:()=>u});var s=a(49303),i=a(88716),n=a(60670),o=a(87070),l=a(72331);async function u(e){try{let{mediaSpaceId:t,startDate:a,endDate:r}=await e.json(),s=await l._.lease.findFirst({where:{mediaSpaceId:t,status:{name:{not:"Completado"}},AND:[{startDate:{lte:new Date(r)}},{endDate:{gte:new Date(a)}}]},include:{status:!0}});if(s)return o.NextResponse.json({available:!1,conflictingLease:{startDate:s.startDate,endDate:s.endDate,status:s.status.name}},{status:409});return o.NextResponse.json({available:!0})}catch(e){return console.error("Error checking availability:",e),o.NextResponse.json({error:"Failed to check availability"},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/leases/check-availability/route",pathname:"/api/leases/check-availability",filename:"route",bundlePath:"app/api/leases/check-availability/route"},resolvedPagePath:"/Users/joeym13/Documents/GitHub/ash/app/api/leases/check-availability/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:h}=c,v="/api/leases/check-availability/route";function m(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}},72331:(e,t,a)=>{a.d(t,{_:()=>s});var r=a(53524);let s=globalThis.prisma??new r.PrismaClient({log:["query"]})}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9276,5972],()=>a(29355));module.exports=r})();