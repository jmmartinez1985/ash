(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{6352:function(e,t,r){Promise.resolve().then(r.bind(r,6374))},4935:function(e,t,r){"use strict";r.d(t,{p:function(){return a}});var s=r(7437),n=r(5863);function a(){return(0,s.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center",children:[(0,s.jsx)(n.Z,{className:"h-8 w-8 animate-spin text-blue-500"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Loading..."})]})}},2595:function(e,t,r){"use strict";r.d(t,{z:function(){return u}});var s=r(7437),n=r(2265),a=r(4508);let i=(0,r(535).j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",ghost:"bg-transparent text-gray-600 hover:text-gray-900",outline:"border border-gray-300 text-gray-700 hover:bg-gray-100"},size:{default:"h-10 px-4 py-2",sm:"h-8 px-3 py-1 text-xs",lg:"h-12 px-6 py-3 text-base"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef((e,t)=>{let{className:r,variant:n,size:u,...o}=e;return(0,s.jsx)("button",{ref:t,className:(0,a.cn)(i({variant:n,size:u}),r),...o})});u.displayName="Button"},1973:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var s=r(7437),n=r(2265),a=r(4508);let i=n.forwardRef((e,t)=>{let{className:r,type:n,...i}=e;return(0,s.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",r),ref:t,...i})});i.displayName="Input"},6374:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var s=r(7437),n=r(2265),a=r(605),i=r(9376),u=r(1973),o=r(2595),l=r(4935);function c(){let e=(0,i.useRouter)(),[t,r]=(0,n.useState)(!1),[c,d]=(0,n.useState)(""),m=async t=>{t.preventDefault(),r(!0),d("");let s=new FormData(t.currentTarget),n=await (0,a.signIn)("credentials",{email:s.get("email"),password:s.get("password"),redirect:!1,callbackUrl:"/api/auth/session"});if(null==n?void 0:n.error)d("Invalid credentials"),r(!1);else{var i;let t=await fetch("/api/auth/session"),r=await t.json();(null==r?void 0:null===(i=r.user)||void 0===i?void 0:i.role)==="ADMIN"?e.push("/dashboard"):e.push("/leasing")}};return t?(0,s.jsx)(l.p,{}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Iniciar Sesi\xf3n"}),c&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),(0,s.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electr\xf3nico"}),(0,s.jsx)(u.I,{id:"email",name:"email",type:"email",required:!0,className:"mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrase\xf1a"}),(0,s.jsx)(u.I,{id:"password",name:"password",type:"password",required:!0,className:"mt-1"})]}),(0,s.jsx)(o.z,{type:"submit",className:"w-full",children:"Iniciar Sesi\xf3n"})]})]})})}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(1994),n=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},5863:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}}),r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[583,605,971,117,744],function(){return e(e.s=6352)}),_N_E=e.O()}]);